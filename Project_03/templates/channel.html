<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Channel: {{ channel.name }}</title>
    <!-- Include Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom Styles for Dark Mode -->
    <style>
        body {
            background-color: #121212; /* Dark background */
            color: #e0e0e0; /* Light text */
        }
        a, a:hover, a:focus {
            color: #bb86fc; /* Light purple for links to stand out */
        }
        .btn-primary {
            background-color: #3700b3; /* Darker shade for primary buttons */
            border-color: #3700b3;
        }
        .card {
            background-color: #1e1e1e; /* Dark background for cards */
            color: #e0e0e0; /* Light text for cards */
        }
        .card pre {
            color: #e0e0e0; /* Ensuring preformatted text inside cards is also light */
        }
        /* Custom style for the preformatted text outside cards to make it visible */
        pre {
            background-color: #2c2c2c;
            color: #e0e0e0;
            padding: 10px;
        }
    </style>
</head>
<body>
<p> <a href="{{ url_for('home_page') }}">List of channels.</a> </p>
{% if channel %}
    <h1>Channel: {{ channel.name }}</h1>

    <!-- Collapsible container for Instructions -->
    <p>
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#instructionsCollapse" aria-expanded="false" aria-controls="instructionsCollapse">
            How to play
        </button>
    </p>
    <div class="collapse" id="instructionsCollapse">
        <div class="card card-body">
            <p>Select an open Cell in the form of "A1" or "1A" from the field below
            and submit it in the "Your Turn" field.</p>
            <p>The unbeatable TicTacToe Bot (ttt_bot) will automatically answer with his turn.</p>
            <p>If the game is over, the result will be displayed by the ttt_bot.</p>
            <p>To start a new game, just select a </p>
            <p>The field:
            <pre>     
                  A   B   C
                ------------
             1 ┆    │   │
               ┆ ───┼───┼───
             2 ┆    │   │
               ┆ ───┼───┼───
             3 ┆    │   │</pre></p>
        </div>
    </div>

    {% for message in messages %}
        <h2>{{ message.sender }}</h2>
        <p><pre>{{ message.content }}</pre></p>
        <p style="font-size: 60%">{{ message.timestamp }}</p>
    {% endfor %}
{% else %}
    <h1>Channel not found</h1>
{% endif %}

<form action="post" method="post">
    <input type="hidden" name="channel" value="{{ channel.endpoint | urlencode }}">
    Sender: <input type="text" name="sender" id="sender"> <br>
    Your Turn: <input type="text" name="content" id="content"> <br>
    <input type="submit" value="Post">
</form>

<!-- Include Bootstrap JS and its dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
